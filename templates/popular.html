<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CINESMART</title>
  <link rel="stylesheet" href="../static/mistyles.css">
</head>

<body>
    <header >
        <div class="header-container">
            <div class="logo-section">
                <!-- <h1 id="cinesmart-logo">CINESMART</h1> -->
            </div>
            <div class="sidebar-section">
                <aside id="sidebar">
                    <div id="sidebar-content">
                        <div class="logo">
                            <h2>CINESMART</h2>
                        </div>
                        <hr class="MuiDivider-root MuiDivider-fullWidth css-1px5dlw">
                        <div class="categories">
                            <h3>Categories</h3>
                            <ul>
                                <li><a href="{{ url_for('popular') }}"><img src="../static/popular.jpg" alt="Popular Icon"> Popular</a></li>
                                <li><a href="{{ url_for('top_rated') }}"><img src="../static/top rated.jpg" alt="Top Rated Icon"> Top Rated</a></li>
                                <li><a href="{{ url_for('upcoming') }}"><img src="../static/upcoming.jpg" alt="Upcoming Icon"> Upcoming</a></li>
                            </ul>
                        </div>
                        <div class="genres">
                            <h3>Genres</h3>
                            <ul>
                                <li><a href="{{ url_for('action') }}"><img src="../static/action.jpg" alt="Action Icon"> Action</a></li>
                                <li><a href="{{ url_for('adventure') }}"><img src="../static/adventure.jpg" alt="Adventure Icon"> Adventure</a></li>
                                <li><a href="{{ url_for('animation') }}"><img src="../static/animation.jpg" alt="Animation Icon"> Animation</a></li>
                                <li><a href="{{ url_for('comedy') }}"><img src="../static/comedy.jpg" alt="Comedy Icon"> Comedy</a></li>
                                <li><a href="{{ url_for('drama') }}"><img src="../static/drama.jpg" alt="Drama Icon"> Drama</a></li>
                                <li><a href="{{ url_for('fantasy') }}"><img src="../static/fantasy.jpg" alt="Fantasy Icon"> Fantasy</a></li>
                                <li><a href="{{ url_for('horror') }}"><img src="../static/horror.jpg" alt="Horror Icon"> Horror</a></li>
                                <li><a href="{{ url_for('mystery') }}"><img src="../static/mystery.jpg" alt="Mystery Icon"> Mystery</a></li>
                                <li><a href="{{ url_for('romance') }}"><img src="../static/romance.jpg" alt="Romance Icon"> Romance</a></li>
                                <li><a href="{{ url_for('scifi') }}"><img src="../static/sci-fi.jpg" alt="Sci-Fi Icon"> Sci-Fi</a></li>
                            </ul>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </header>
    <div id="auth-buttons">      
        <button id="signup-button">Signup</button>
        <button id="login-button">Login</button>
    </div>
     <!-- The Modal for Signup -->
     <div id="signup-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-signup">&times;</span>
            <div class="form-container">
                <h1>Signup</h1>
                <form action="/signup" method="post">
                    <input type="text" id="signup-username" name="username" placeholder="Username" required>
                    <input type="email" id="signup-email" name="email" placeholder="Email" required>
                    <input type="password" id="signup-password" name="password" placeholder="Password" required>
                    <button type="submit">Signup</button>
                </form>
            </div>
            <p style="text-align: center; margin-top: 20px;">
                Already have an account? 
                <a href="#" id="go-to-login" style="color: white; text-decoration: none;font-weight: bold;">Login here</a>
            </p>            
        </div>
    </div>

    <!-- The Modal for Login -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-login">&times;</span>
            <div class="form-container">
                <h1>Login</h1>
                <form action="/login" method="post">
                    <input type="email" id="login-email" name="email" placeholder="Email" required>
                    <input type="password" id="login-password" name="password" placeholder="Password" required>
                    <button type="submit">Login</button>
                </form>
                <p style="text-align: center; margin-top: 20px;">Don't have an account? <a href="#" id="go-to-signup">Signup here</a></p>
            </div>
        </div>
    </div>
  <main>
    <section id="search">
      <input type="text" id="search-bar" placeholder="Search for movies...">
    </section>
    <section id="movie-list">
      <div id="movies">
        <!-- Movie Card 1 -->
        <div class="movie-card">
          <img src="logo.jpg" alt="Movie 1 Poster">
          <h3>Movie Title 1</h3>
          <p>Short description or rating for Movie 1</p>
        </div>
      </div>
    </section>
    <aside id="chatbot">
        <button id="chatbot-button">CineBot</button>
    </aside>
  </main>
  <div id="movie-detail-modal" class="modal">
    <div class="modal-content">
      <span class="close" id="close-modal">&times;</span>
      <div id="modal-body">
        <!-- Movie details will be injected here -->
      </div>
    </div>
  </div>
<script src="{{ url_for('static', filename='js/script_search.js') }}"></script>
<script src="{{ url_for('static', filename='js/script_popular.js') }}"></script>
  <script>
    // Modal handling for signup and login
    const signupModal = document.getElementById('signup-modal');
    const loginModal = document.getElementById('login-modal');
    const signupBtn = document.getElementById('signup-button');
    const loginBtn = document.getElementById('login-button');
    const closeSignup = document.getElementById('close-signup');
    const closeLogin = document.getElementById('close-login');
    const goToSignup = document.getElementById('go-to-signup');
    const goToLogin = document.getElementById('go-to-login');

    signupBtn.onclick = function () {
        signupModal.style.display = 'block';
    };

    loginBtn.onclick = function () {
        loginModal.style.display = 'block';
    };

    closeSignup.onclick = function () {
        signupModal.style.display = 'none';
    };

    closeLogin.onclick = function () {
        loginModal.style.display = 'none';
    };

    goToSignup.onclick = function () {
        loginModal.style.display = 'none';
        signupModal.style.display = 'block';
    };

    goToLogin.onclick = function () {
        signupModal.style.display = 'none';
        loginModal.style.display = 'block';
    };

    window.onclick = function (event) {
        if (event.target == signupModal) {
            signupModal.style.display = 'none';
        }
        if (event.target == loginModal) {
            loginModal.style.display = 'none';
        }
    };
    // Chatbot functionality
    document.addEventListener("DOMContentLoaded", function() {
        const chatbotButton = document.getElementById('chatbot-button');
        chatbotButton.addEventListener('click', function() {
            const width = 300;
            const height = 600;
            const left = screen.width - width;
            const top = (screen.height / 2) - (height / 2);

            window.open(
                'https://mediafiles.botpress.cloud/7d8c96e0-f4bf-4924-9274-f6fe28185ead/webchat/bot.html', 
                'CineBot', 
                `width=${width},height=${height},top=${top},left=${left}`
            );
        });
    });
</script>
</body>

</html>